---
import BaseLayout from "../layouts/BaseLayout.astro";
import Section from "../components/ui/Section.astro";
import ArticleList from "../components/content/ArticleList.astro";
import ArtworkCarousel from "../components/content/ArtworkCarousel.astro";
import { getCollection } from "astro:content";

// Articles (already partially wired in your project)
const articles = (await getCollection("articles"))
  .sort((a, b) => (b.data.publishedAt as Date).getTime() - (a.data.publishedAt as Date).getTime())
  .slice(0, 3);

// Featured artworks (v1: static until artworks collection/admin is populated)
const featuredArtworks = [
  {
    id: "origin-forms-01",
    data: {
      title: "Origin Forms I",
      slug: "origin-forms-i",
      thumbnail: "/images/art/origin-forms/origin-forms-01.jpg",
      saatchiUrl: "https://www.saatchiart.com/en-au/solara-meridian-studio",
      alt: "Origin Forms I – gallery-grade marble inlay art for modern interiors",
    },
  },
  {
    id: "origin-forms-02",
    data: {
      title: "Origin Forms II",
      slug: "origin-forms-ii",
      thumbnail: "/images/art/origin-forms/origin-forms-02.jpg",
      saatchiUrl: "https://www.saatchiart.com/en-au/solara-meridian-studio",
      alt: "Origin Forms II – limited-edition marble inlay artwork",
    },
  },
  {
    id: "origin-forms-03",
    data: {
      title: "Origin Forms III",
      slug: "origin-forms-iii",
      thumbnail: "/images/art/origin-forms/origin-forms-03.jpg",
      saatchiUrl: "https://www.saatchiart.com/en-au/solara-meridian-studio",
      alt: "Origin Forms III – figure study in marble inlay for contemporary interiors",
    },
  },
];

const SAATCHI_PROFILE_URL = "https://www.saatchiart.com/en-au/solara-meridian-studio";
---

<BaseLayout
  title="Solara Meridian Studio"
  description="Gallery-grade marble inlay art for modern interiors."
>
  <!-- HERO -->
  <section class="hero">
    <div class="container hero__inner">
      <div>
        <div class="hero__kicker">Solara Meridian Studio</div>
        <h1 class="hero__title">A controlled visual language built from AI artefacts—intentionally recomposed rather than corrected.</h1>
        <p class="hero__subtitle">
         A premium direction that reframes a commonly mocked failure mode into composed, collectible work—designed to hold attention quietly, not demand it.
        </p>

        <div class="hero__actions">
          <a class="btn btn--primary btn--block-mobile" href="/art">Explore the Art</a>
          <a class="btn btn--ghost btn--block-mobile" href="/articles">Read Articles</a>
        </div>

        <div class="hero__meta">
          Purchases and delivery are handled securely through Saatchi Art.
        </div>
      </div>

      <div class="hero__media">
        <div class="hero__media-inner">
          <div class="card">
            <div class="card__eyebrow">Current flagship</div>
            <div class="card__title">The Origin Forms</div>
            <p class="card__body">
              The first limited-edition series released by Solara Meridian Studio — composed for collectors, studios, and refined interiors.
            </p>
            <div class="mt-2">
              <a class="btn btn--subtle btn--block" href="/art">View the Art Landing</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- WHY / BENEFITS -->
  <Section variant="alt">
    <div class="container">
      <div class="section__heading">
        <div class="section__eyebrow">Why collectors choose this work</div>
        <h2 class="section__title">Designed for real rooms — and long ownership.</h2>
      </div>

      <div class="grid grid--3">
        <div class="card">
          <div class="card__title">Controlled recomposition</div>
          <p class="card__body">
            Artefacts are selected, stabilised, and composed into finished works. Scarcity comes from judgement, not output volume.
          </p>
        </div>

        <div class="card">
          <div class="card__title">Restraint as a signature</div>
          <p class="card__body">
            Precision without coldness; complexity without noise. The work is designed to reveal itself over time.
          </p>
        </div>

        <div class="card">
          <div class="card__title">Interior-ready presence</div>
          <p class="card__body">
           Surface treatments may draw on mineral and fracture logic—but the intent remains art-first, not décor-first.
          </p>
        </div>
      </div>
    </div>
  </Section>

  <!-- FEATURED WORKS (CAROUSEL REUSE) -->
  <Section>
    <div class="container">
      <div class="section__heading">
        <div class="section__eyebrow">Featured works</div>
        <h2 class="section__title">From The Origin Forms</h2>
      </div>

      <ArtworkCarousel artworks={featuredArtworks} label="Featured works from The Origin Forms" />
    </div>
  </Section>

  <!-- ARTICLES -->
  {articles.length > 0 && (
    <Section variant="alt">
      <div class="container">
        <div class="section__heading">
          <div class="section__eyebrow">Articles</div>
          <h2 class="section__title">Notes on craft, taste, and placement.</h2>
        </div>

        <ArticleList articles={articles} />

        <div class="mt-3 text-center">
          <a class="btn btn--ghost btn--block-mobile" href="/articles">View all articles</a>
        </div>
      </div>
    </Section>
  )}

  <!-- FINAL CTA (SINGLE EXTERNAL ACTION) -->
  <Section>
    <div class="container">
      <div class="cta">
        <div class="cta__eyebrow">Collect</div>
        <div class="cta__title">Explore availability and purchase securely through Saatchi Art.</div>
        <p class="cta__body">View the full catalogue, current availability, and pricing on Saatchi.</p>
        <a
          class="btn btn--primary btn--block-mobile"
          href={SAATCHI_PROFILE_URL}
          target="_blank"
          rel="noopener noreferrer"
        >
          Visit Saatchi Art Profile
        </a>
      </div>
    </div>
  </Section>
</BaseLayout>
